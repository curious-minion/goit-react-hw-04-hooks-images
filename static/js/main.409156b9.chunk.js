(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],[,,,,function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__2YjJY",SearchForm:"SearchBar_SearchForm__aRGx9",SearchForm_button:"SearchBar_SearchForm_button__1A0bw",SearchForm_button_label:"SearchBar_SearchForm_button_label__1MD_c",SearchForm_input:"SearchBar_SearchForm_input__2xFFx"}},,function(e,t,a){e.exports={loader:"Loader_loader__3qmAX",inner:"Loader_inner__1tYuA",one:"Loader_one__3l9zc Loader_inner__1tYuA","rotate-one":"Loader_rotate-one__3h9dr",two:"Loader_two__3Qo76 Loader_inner__1tYuA","rotate-two":"Loader_rotate-two__3zHo0",three:"Loader_three__jldp7 Loader_inner__1tYuA","rotate-three":"Loader_rotate-three__1LyIv"}},,,,function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2-5CP",imageGalleryItem_image:"ImageGalleryItem_imageGalleryItem_image__3WB1v"}},function(e,t,a){e.exports={overlay:"Modal_overlay__3sCi6",modal:"Modal_modal__2xZhJ"}},,,function(e,t,a){e.exports={image_gallery:"ImageGallery_image_gallery__1asj4"}},function(e,t,a){e.exports={button:"Button_button__3JYq8"}},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(7),c=a.n(n),i=(a(20),a(12)),s=a(2);function l(e,t){var a="".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("21938296-6f6e29c510a17a0a43204ed70");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error(" ".concat(e," was not found")))}))}var u=a(3),m=(a(13),a(4)),_=a(1),h=function(e){var t=e.onSubmit,a=Object(r.useState)(""),o=Object(s.a)(a,2),n=o[0],c=o[1];return Object(_.jsx)("header",{className:m.Searchbar,children:Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.trim()?(t(n),c("")):u.b.error("Type in your search request")},className:m.SearchForm,children:[Object(_.jsx)("button",{type:"submit",className:m.SearchForm_button,children:Object(_.jsx)("span",{className:m.SearchForm_button_label,children:"Search"})}),Object(_.jsx)("input",{className:m.SearchForm_input,type:"text",name:"searchRequest",value:n,onChange:function(e){c(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},b=a(10);function j(e){var t=e.tags,a=e.webformatURL,r=e.openModal;return Object(_.jsx)("li",{className:b.imageGalleryItem,children:Object(_.jsx)("img",{src:a,alt:t,className:b.imageGalleryItem_image,onClick:r})})}var d=a(14);function g(e){var t=e.images,a=e.onClick;return Object(_.jsx)("ul",{className:d.image_gallery,children:t.map((function(e){var t=e.webformatURL,r=e.tags,o=e.largeImageURL;return Object(_.jsx)(j,{webformatURL:t,tags:r,openModal:function(){a(o)}})}))})}var f=a(15);function O(e){var t=e.onClick;return Object(_.jsx)("div",{className:f.button,type:"button",onClick:t,children:"Load more"})}var p=a(6),x=function(){return Object(_.jsxs)("div",{class:p.loader,children:[Object(_.jsx)("div",{class:p.one}),Object(_.jsx)("div",{class:p.two}),Object(_.jsx)("div",{class:p.three})]})},v=a(11);function S(e){var t=e.modalBigImage,a=e.closeModal,o=function(e){"Escape"===e.code&&a()};return Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}})),Object(_.jsx)("div",{className:v.overlay,onClick:a,children:Object(_.jsx)("div",{className:v.modal,children:Object(_.jsx)("img",{src:t,alt:""})})})}function w(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],n=Object(r.useState)(0),c=Object(s.a)(n,2),m=c[0],b=c[1],j=Object(r.useState)(null),d=Object(s.a)(j,2),f=d[0],p=d[1],v=Object(r.useState)([]),w=Object(s.a)(v,2),y=w[0],L=w[1],F=Object(r.useState)(!1),I=Object(s.a)(F,2),k=I[0],C=I[1],N=Object(r.useState)(""),B=Object(s.a)(N,2),G=B[0],E=B[1],M=function(){u.b.error("Whoops, something went wrong"),u.b.clearWaitingQueue()};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(h,{onSubmit:function(e){C(!0),o(e),l(e,1).then((function(e){if(0===e.hits.length)return L(""),void M();L(e.hits),b(1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return p(e)})).finally((function(){return C(!1)}))},images:y}),Object(_.jsxs)(r.Fragment,{children:[f&&Object(_.jsx)("span",{children:"Something went wrong. Please type in another request"}),k&&Object(_.jsx)(x,{}),y.length>0&&Object(_.jsx)(g,{images:y,onClick:function(e){E(e)}}),y.length>11&&Object(_.jsx)(O,{onClick:function(){C(!0),l(a,m+1).then((function(e){var t=e.hits;L([].concat(Object(i.a)(y),Object(i.a)(t))),b(m+1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return p(e)})).finally((function(){return C(!1)}))}}),G&&Object(_.jsx)(S,{modalBigImage:G,closeModal:function(){E("")}})]}),Object(_.jsx)(u.a,{autoClose:2e3,limit:1})]})}a(22);c.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(w,{className:w})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.409156b9.chunk.js.map