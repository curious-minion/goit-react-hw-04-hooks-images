(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],[,,,,function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__2YjJY",SearchForm:"SearchBar_SearchForm__aRGx9",SearchForm_button:"SearchBar_SearchForm_button__1A0bw",SearchForm_button_label:"SearchBar_SearchForm_button_label__1MD_c",SearchForm_input:"SearchBar_SearchForm_input__2xFFx"}},,function(e,t,a){e.exports={loader:"Loader_loader__3qmAX",inner:"Loader_inner__1tYuA",one:"Loader_one__3l9zc Loader_inner__1tYuA","rotate-one":"Loader_rotate-one__3h9dr",two:"Loader_two__3Qo76 Loader_inner__1tYuA","rotate-two":"Loader_rotate-two__3zHo0",three:"Loader_three__jldp7 Loader_inner__1tYuA","rotate-three":"Loader_rotate-three__1LyIv"}},,,,function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2-5CP",imageGalleryItem_image:"ImageGalleryItem_imageGalleryItem_image__3WB1v"}},function(e,t,a){e.exports={overlay:"Modal_overlay__3sCi6",modal:"Modal_modal__2xZhJ"}},,,,,function(e,t,a){e.exports={image_gallery:"ImageGallery_image_gallery__1asj4"}},function(e,t,a){e.exports={button:"Button_button__3JYq8"}},,,,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),c=a.n(o),s=(a(24),a(12)),i=a(2);function l(e,t){var a="".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("21938296-6f6e29c510a17a0a43204ed70");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error(" ".concat(e," was not found")))}))}var u=a(14),h=a(15),m=a(19),_=a(18),b=a(3),j=(a(13),a(4)),d=a(1),g=function(e){Object(m.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={searchRequest:""},e.handleRequestChange=function(t){e.setState({searchRequest:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.searchRequest.trim()?(e.props.onSubmit(e.state.searchRequest),e.setState({searchRequest:""})):b.b.error("Type in your search request")},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state.searchRequest;return Object(d.jsx)("header",{className:j.Searchbar,children:Object(d.jsxs)("form",{onSubmit:this.handleSubmit,className:j.SearchForm,children:[Object(d.jsx)("button",{type:"submit",className:j.SearchForm_button,children:Object(d.jsx)("span",{className:j.SearchForm_button_label,children:"Search"})}),Object(d.jsx)("input",{className:j.SearchForm_input,type:"text",name:"searchRequest",value:e,onChange:this.handleRequestChange,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(r.Component),f=a(10);function p(e){var t=e.tags,a=e.webformatURL,r=e.openModal;return Object(d.jsx)("li",{className:f.imageGalleryItem,children:Object(d.jsx)("img",{src:a,alt:t,className:f.imageGalleryItem_image,onClick:r})})}var O=a(16);function x(e){var t=e.images,a=e.onClick;return Object(d.jsx)("ul",{className:O.image_gallery,children:t.map((function(e){var t=e.webformatURL,r=e.tags,n=e.largeImageURL;return Object(d.jsx)(p,{webformatURL:t,tags:r,openModal:function(){a(n)}})}))})}var v=a(17);function S(e){var t=e.onClick;return Object(d.jsx)("div",{className:v.button,type:"button",onClick:t,children:"Load more"})}var y=a(6),w=function(){return Object(d.jsxs)("div",{class:y.loader,children:[Object(d.jsx)("div",{class:y.one}),Object(d.jsx)("div",{class:y.two}),Object(d.jsx)("div",{class:y.three})]})},L=a(11);function F(e){var t=e.modalBigImage,a=e.closeModal,n=function(e){"Escape"===e.code&&a()};return Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}})),Object(d.jsx)("div",{className:L.overlay,onClick:a,children:Object(d.jsx)("div",{className:L.modal,children:Object(d.jsx)("img",{src:t,alt:""})})})}function k(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(0),c=Object(i.a)(o,2),u=c[0],h=c[1],m=Object(r.useState)(null),_=Object(i.a)(m,2),j=_[0],f=_[1],p=Object(r.useState)([]),O=Object(i.a)(p,2),v=O[0],y=O[1],L=Object(r.useState)(!1),k=Object(i.a)(L,2),C=k[0],I=k[1],q=Object(r.useState)(""),R=Object(i.a)(q,2),N=R[0],B=R[1],G=function(){b.b.error("Whoops, something went wrong"),b.b.clearWaitingQueue()};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(g,{onSubmit:function(e){I(!0),n(e),l(e,1).then((function(e){if(0===e.hits.length)return y(""),void G();y(e.hits),h(1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return f(e)})).finally((function(){return I(!1)}))},images:v}),Object(d.jsxs)(r.Fragment,{children:[j&&Object(d.jsx)("span",{children:"Something went wrong. Please type in another request"}),C&&Object(d.jsx)(w,{}),v.length>0&&Object(d.jsx)(x,{images:v,onClick:function(e){B(e)}}),v.length>11&&Object(d.jsx)(S,{onClick:function(){I(!0),l(a,u+1).then((function(e){var t=e.hits;y([].concat(Object(s.a)(v),Object(s.a)(t))),h(u+1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return f(e)})).finally((function(){return I(!1)}))}}),N&&Object(d.jsx)(F,{modalBigImage:N,closeModal:function(){B("")}})]}),Object(d.jsx)(b.a,{autoClose:2e3,limit:1})]})}a(26);c.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(k,{className:k})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.26f976c1.chunk.js.map