{"version":3,"sources":["components/SearchBar/SearchBar.module.css","components/Loader/Loader.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/ApiService/ImageApi.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","fetchImages","searchRequest","page","url","fetch","then","response","ok","json","Promise","reject","Error","SearchBar","state","handleRequestChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","Searchbar","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","tags","webformatURL","openModal","imageGalleryItem","src","alt","imageGalleryItem_image","onClick","ImageGallery","images","image_gallery","map","largeImageURL","Button","button","Loader","class","loader","one","two","three","Modal","modalBigImage","closeModal","onKeyDown","code","useEffect","window","addEventListener","removeEventListener","overlay","modal","App","useState","setSearchRequest","setPage","setError","setImages","isLoading","setIsLoading","setModalBigImage","notify","clearWaitingQueue","hits","length","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","autoClose","limit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.26f976c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2YjJY\",\"SearchForm\":\"SearchBar_SearchForm__aRGx9\",\"SearchForm_button\":\"SearchBar_SearchForm_button__1A0bw\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__1MD_c\",\"SearchForm_input\":\"SearchBar_SearchForm_input__2xFFx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3qmAX\",\"inner\":\"Loader_inner__1tYuA\",\"one\":\"Loader_one__3l9zc Loader_inner__1tYuA\",\"rotate-one\":\"Loader_rotate-one__3h9dr\",\"two\":\"Loader_two__3Qo76 Loader_inner__1tYuA\",\"rotate-two\":\"Loader_rotate-two__3zHo0\",\"three\":\"Loader_three__jldp7 Loader_inner__1tYuA\",\"rotate-three\":\"Loader_rotate-three__1LyIv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2-5CP\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__3WB1v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3sCi6\",\"modal\":\"Modal_modal__2xZhJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image_gallery\":\"ImageGallery_image_gallery__1asj4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3JYq8\"};","export default function fetchImages(searchRequest, page) {\r\n    const KEY = '21938296-6f6e29c510a17a0a43204ed70';\r\n    const BASE_URL = 'https://pixabay.com/api/';\r\n    const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchRequest}&page=${page}&per_page=12&key=${KEY}`;\r\n\r\n    return fetch(url).then(response => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n        return Promise.reject(new Error(` ${searchRequest} was not found`));\r\n    });\r\n}\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Searchbar, SearchForm, SearchForm_button, SearchForm_button_label, SearchForm_input} from './SearchBar.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    searchRequest: '',\r\n  };\r\n\r\n  handleRequestChange = event => {\r\n    this.setState({ searchRequest: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.searchRequest.trim() === '') {\r\n      toast.error('Type in your search request');\r\n      return;\r\n    }\r\n    \r\n    this.props.onSubmit(this.state.searchRequest);\r\n    this.setState({ searchRequest: '' });\r\n\r\n  };\r\n\r\n  render() {\r\n    const { searchRequest } = this.state;\r\n    \r\n    return (\r\n      <header className={Searchbar}>\r\n      <form onSubmit={this.handleSubmit} className={SearchForm}>\r\n        <button type=\"submit\" className={SearchForm_button}>\r\n          <span className={SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={SearchForm_input}\r\n            type=\"text\"\r\n            name=\"searchRequest\"\r\n            value={searchRequest}\r\n            onChange={this.handleRequestChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>);\r\n  }\r\n\r\n}\r\n\r\n","import PropTypes from 'prop-types';\r\nimport { imageGalleryItem, imageGalleryItem_image } from './ImageGalleryItem.module.css';\r\n\r\n\r\nexport default function ImageGalleryItem ({ tags, webformatURL,  openModal  }) {\r\n  return (\r\n    <li  className={imageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={imageGalleryItem_image}\r\n        onClick={openModal} />\r\n    </li>\r\n  )\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string,\r\n \r\n  webformatURL: PropTypes.string.isRequired\r\n    \r\n};\r\n\r\n\r\n\r\n\r\n\r\n  ","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport { image_gallery } from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, onClick }) {\r\n  const showModal = url => {\r\n    onClick(url);\r\n  };\r\n\r\n  return (<ul className={image_gallery}>\r\n    {images.map(({ webformatURL, tags, largeImageURL  }) => (\r\n      <ImageGalleryItem\r\n        webformatURL={webformatURL}\r\n        tags={tags}\r\n      openModal ={()=> showModal(largeImageURL)}/>\r\n      \r\n    ))}\r\n  </ul>\r\n  )\r\n};\r\n  \r\n\r\nImageGallery.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      id: PropTypes.number.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired\r\n    }))\r\n};\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { button } from './Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n   \r\n    return (\r\n        <div className={button} type=\"button\" onClick={onClick}>Load more</div>\r\n    );\r\n};\r\n\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired\r\n};\r\n\r\n","\r\nimport { loader, one, two, three } from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n    return (\r\n       <div class={loader}>\r\n    <div class={one}></div>\r\n    <div class={two}></div>\r\n    <div class={three}></div>\r\n    </div>\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\nexport default Loader;\r\n","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { overlay, modal } from './Modal.module.css';\r\n\r\nexport default function Modal({ modalBigImage, closeModal }) {\r\n\r\n  const onKeyDown = event => {\r\n      if (event.code === 'Escape') \r\n        closeModal();\r\n  };\r\n  \r\n  useEffect(() => {\r\n\r\n    window.addEventListener('keydown', onKeyDown);\r\n\r\n    return () => window.removeEventListener('keydown', onKeyDown);\r\n  });\r\n\r\n    return (\r\n      <div className={overlay} onClick={closeModal}>\r\n        <div className={modal}>\r\n          <img src={modalBigImage} alt=\"\"/>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  modalBigImage: PropTypes.string.isRequired\r\n};\r\n\r\n\r\n\r\n\r\n","import React, { useState, Fragment } from \"react\";\n\nimport fetchImages from './components/ApiService/ImageApi';\n// import ErrorView from \"./components/ErrorView/ErrorView\";\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from \"./components/ImageGallery\";\n\nimport Button from './components/Button';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal';\n\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nexport default function App() {\n  const [searchRequest, setSearchRequest] = useState('');\n  const [page, setPage] = useState(0);\n  const [error, setError] = useState(null);\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [modalBigImage, setModalBigImage] = useState('');\n\n\n  const handleFormSubmit = searchRequest => {\n    setIsLoading(true);\n    setSearchRequest(searchRequest);\n\n    fetchImages(searchRequest, 1).then(response => {\n      if (response.hits.length === 0) {\n\n        setImages('')\n        notify()\n        return;\n      } setImages(response.hits); setPage(+ 1);window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }).catch(error => setError(error)).finally(() => setIsLoading(false));\n\n  };\n\n    \n  const handleButtonClick = () => {\n    \n    setIsLoading(true);\n\n    fetchImages(searchRequest, page +1).then(({ hits }) => {\n      setImages([...images, ...hits]);setPage(page + 1);\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }).catch(error => setError(error)).finally(() => setIsLoading( false));\n\n  };\n\n  const onOpenModalClick = largeImageURL => {\n    setModalBigImage(largeImageURL);\n  };\n\n  const closeModal = () => {\n    setModalBigImage('');\n  };\n\n  const notify = () => {\n    toast.error(\"Whoops, something went wrong\");\n    toast.clearWaitingQueue();\n    return;\n  };\n\n\n  return (\n    <>\n      <SearchBar onSubmit={handleFormSubmit} images={images} />\n      <Fragment>\n        {error && <span>Something went wrong. Please type in another request</span>}\n        {isLoading && <Loader />}\n        {images.length > 0 && <ImageGallery images={images} onClick={onOpenModalClick} />}\n        {images.length > 11 && <Button onClick={handleButtonClick} />}\n        {modalBigImage && <Modal\n          modalBigImage={modalBigImage}\n          closeModal={closeModal} />}\n      </Fragment>\n\n      <ToastContainer autoClose={2000} limit={1} />\n    </>\n  );\n\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={App} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}